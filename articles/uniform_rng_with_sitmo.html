<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="sitmo">
<title>Making a Uniform PRNG with `sitmo` • sitmo</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Making a Uniform PRNG with `sitmo`">
<meta property="og:description" content="sitmo">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">sitmo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/big_crush_test.html">`sitmo`'s BigCrush Results</a>
    <a class="dropdown-item" href="../articles/sitmo_internals.html">Deployment of `sitmo` within C++ Code</a>
    <a class="dropdown-item" href="../articles/uniform_rng_with_sitmo.html">Making a Uniform PRNG with `sitmo`</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/coatless-rpkg/sitmo/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Making a Uniform PRNG with `sitmo`</h1>
                        <h4 data-toc-skip class="author">James
Balamuta</h4>
            
            <h4 data-toc-skip class="date">2023-11-14</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/coatless-rpkg/sitmo/blob/HEAD/vignettes/uniform_rng_with_sitmo.Rmd" class="external-link"><code>vignettes/uniform_rng_with_sitmo.Rmd</code></a></small>
      <div class="d-none name"><code>uniform_rng_with_sitmo.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="intro">Intro<a class="anchor" aria-label="anchor" href="#intro"></a>
</h2>
<p>Many of the random number generators for various distributions rely
on the Probability Integral Transformation theorem. Succintly stated
as:</p>
<p><strong>Theorem</strong></p>
<p>Let <span class="math inline">\(X\)</span> be a random variable that
has a cumulative distribution function (CDF) of <span class="math inline">\(F_X\left({x}\right)\)</span>. Then, define random
variable <span class="math inline">\(U = F_X\left({X}\right)\)</span>.
Thus, <span class="math inline">\(U\)</span> is a uniform
distribution.</p>
<p><strong>Proof</strong></p>
<p>Given any random variable <strong>X</strong>, define <span class="math inline">\(U = F_X\left({X}\right)\)</span>. Then:</p>
<p><span class="math display">\[\begin{align*}
F_U\left({u}\right) &amp;= P\left( {U \le u} \right) \\
   &amp;= P\left( {{F_X}\left( X \right) \le u} \right) \\
   &amp;= P\left( {X \le F_X^{ - 1}\left( u \right)} \right) \\
   &amp;= {F_X}\left( {F_X^{ - 1}\left( u \right)} \right) \\
   &amp;= u \\
\end{align*}\]</span></p>
<p>Therefore, <span class="math inline">\(F_U\left({u}\right)\)</span>
is the CDF of a Uniform(0,1) RV. Hence, <span class="math inline">\(U\)</span> has a uniform distribution on <span class="math inline">\([0,1]\)</span>.</p>
</div>
<div class="section level2">
<h2 id="random-uniform-distribution-runif-in-c">Random Uniform Distribution (runif) in C++<a class="anchor" aria-label="anchor" href="#random-uniform-distribution-runif-in-c"></a>
</h2>
<p>Within the R/C++ API, there are three ways one can use a random
uniform distribution.</p>
<ul>
<li>Through the use of <code>Rcpp</code>’s hook into the
<code>Rmath.h</code> library that controls random generation via
<code>R::runif(a,b)</code> or Rcpp’s sugar
<code>Rcpp::runif(n,a,b)</code>.</li>
<li>By using C++11’s <a href="http://en.cppreference.com/w/cpp/numeric/random" class="external-link">built-in
generators and statistical distributions</a> to create a uniform real
random variable generator.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;Rcpp.h&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;random&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">// [[Rcpp::plugins(cpp11)]]</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">// [[Rcpp::export]]</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> test<span class="op">(</span><span class="dt">unsigned</span> <span class="dt">int</span> n<span class="op">,</span> <span class="dt">double</span> a<span class="op">,</span> <span class="dt">double</span> b<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Random Seed</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>random_device<span class="op"> </span>rd<span class="op">;</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Random engine</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>mt19937<span class="op"> </span>mt<span class="op">(</span>rd<span class="op">());</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Uniform Distribution</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>uniform_real_distribution<span class="op">&lt;</span><span class="dt">double</span><span class="op">&gt;</span> dist<span class="op">(</span>a<span class="op">,</span> b<span class="op">);</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Generate n realizations</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">unsigned</span> <span class="dt">int</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&lt;</span>n<span class="op">;</span> <span class="op">++</span>i<span class="op">)</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        Rcpp<span class="op">:</span>Rcout <span class="op">&lt;&lt;</span> dist<span class="op">(</span>mt<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ul>
<li>Creating your own RNG!</li>
</ul>
<p>With this being said, we opt to focus the remainder of this vignette
on the creation of an RNG.</p>
</div>
<div class="section level2">
<h2 id="creating-a-random-uniform-distribution">Creating a Random Uniform Distribution<a class="anchor" aria-label="anchor" href="#creating-a-random-uniform-distribution"></a>
</h2>
<p>The basics of creating a random uniform distribution are as
follows:</p>
<ol style="list-style-type: decimal">
<li>The generation of random numbers <span class="math inline">\(R\)</span> (e.g. 18885, 23945734, 4298034852, and
so on)</li>
<li>The known maximum/ceiling of the random number generation <span class="math inline">\(\max\left(R\right)\)</span>
(e.g. <code>sitmo::prng::max()</code> or
<code>SITMO_RAND_MAX</code>)</li>
<li>The ability to scale the randomly generated number between <span class="math inline">\([a,b]\)</span>.</li>
</ol>
<p><code>sitmo</code> provides a high quality version of 1. as shown
informally in the next section and a means of acquiring 2. Thus, one is
only left with creating the correct scaling equation. In particular,
this equation is governed by:</p>
<p><span class="math display">\[a + \frac{R}{{MAX\left( R
\right)}}\left( {b - a} \right)\]</span></p>
<p>The implementation of this using sitmo is given as follows:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;Rcpp.h&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;sitmo.h&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">// [[Rcpp::depends(sitmo)]]</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">//' Random Uniform Number Generator with sitmo</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">//' </span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">//' The function provides an implementation of sampling from a random uniform distribution</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">//' </span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">//' @param n    An \code{unsigned integer} denoting the number of realizations to generate.</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">//' @param min  A \code{double} indicating the minimum \eqn{a} value </span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">//'               in the uniform's interval \eqn{\left[a,b\right]}</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co">//' @param max  A \code{double} indicating the maximum \eqn{b} value </span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">//'               in the uniform's interval \eqn{\left[a,b\right]}</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co">//' @param seed A special \code{unsigned integer} containing a single seed.</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co">//' @return A \code{vec} containing the realizations.</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co">//' @export</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co">//' @examples</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co">//' a = runif_sitmo(10)</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="co">// [[Rcpp::export]]</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>Rcpp<span class="op">::</span>NumericVector runif_sitmo<span class="op">(</span><span class="dt">unsigned</span> <span class="dt">int</span> n<span class="op">,</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>                                <span class="dt">double</span> min <span class="op">=</span> <span class="fl">0.0</span><span class="op">,</span> <span class="dt">double</span> max <span class="op">=</span> <span class="fl">1.0</span><span class="op">,</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>                                <span class="dt">uint32_t</span> seed <span class="op">=</span> <span class="dv">1</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>  Rcpp<span class="op">::</span>NumericVector o<span class="op">(</span>n<span class="op">);</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Create a prng engine</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  sitmo<span class="op">::</span>prng eng<span class="op">(</span>seed<span class="op">);</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Obtain the range between max and min</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>  <span class="dt">double</span> dis <span class="op">=</span> max <span class="op">-</span> min<span class="op">;</span> </span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span><span class="op">(</span><span class="dt">unsigned</span> <span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Sample from the RNG and divide it by the maximum value possible </span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">// (c.f. SITMO_RAND_MAX, which is 4294967295)</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Apply appropriate scale dis = (MAX-MIN) and add min starting loc</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>    o<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> min <span class="op">+</span> <span class="op">((</span><span class="dt">double</span><span class="op">)</span> eng<span class="op">()</span> <span class="op">/</span> <span class="op">(</span>sitmo<span class="op">::</span>prng<span class="op">::</span>max<span class="op">()))</span> <span class="op">*</span> <span class="op">(</span>dis<span class="op">);</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> o<span class="op">;</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>To verify the quality of sitmo in an informal way, we can test the
dependency or correlation between the seeds. To do so, we generate the
same number of realizations under different seeds that have a range.
With this being said, we consider the following code:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/coatless-rpkg/sitmo" class="external-link">sitmo</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Number of Observations to Generate</span></span>
<span><span class="va">n</span> <span class="op">=</span> <span class="fl">1e6</span></span>
<span></span>
<span><span class="co"># Number of seeds to try (1 ... S)</span></span>
<span><span class="va">nseeds</span> <span class="op">=</span> <span class="fl">30</span></span>
<span></span>
<span><span class="co"># Storage for seed number and the correlation of the realizations between generators. </span></span>
<span><span class="va">cppdf</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>s1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="va">nseeds</span><span class="op">)</span>, s2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="va">nseeds</span><span class="op">)</span>,</span>
<span>                   cor <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="va">nseeds</span><span class="op">)</span>, stringsAsFactors <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate observations under the seeds</span></span>
<span><span class="va">count</span> <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">nseeds</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="kw">for</span><span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="va">i</span><span class="op">:</span><span class="va">nseeds</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">u1</span> <span class="op">=</span> <span class="fu"><a href="../reference/runif_sitmo.html">runif_sitmo</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="va">i</span><span class="op">)</span></span>
<span>    <span class="va">u2</span> <span class="op">=</span> <span class="fu"><a href="../reference/runif_sitmo.html">runif_sitmo</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>, <span class="va">j</span><span class="op">)</span></span>
<span>    <span class="va">count</span> <span class="op">=</span> <span class="va">count</span> <span class="op">+</span> <span class="fl">1</span></span>
<span>    <span class="va">cppdf</span><span class="op">[</span><span class="va">count</span>,<span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">i</span>, <span class="va">j</span>, <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">u1</span>,<span class="va">u2</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>We can visualize the data by using a correlation graph. In this case,
the generations off the diagonal should have no correlation (<span class="math inline">\(r = 0\)</span>) whereas the seeds on the diagonal
should have a correlation of 1 (<span class="math inline">\(r =
1\)</span>).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create Correlation Plot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">cppdf</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html" class="external-link">geom_tile</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">s1</span>, y <span class="op">=</span> <span class="va">s2</span>, fill <span class="op">=</span> <span class="va">cor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Seed 1"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Seed 2"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Correlations between seed realizations using `sitmo`"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="uniform_rng_with_sitmo_files/figure-html/corr_plot-1.png" width="672"></p>
<p>Observing the correlation graph, we note that the pattern predicted -
only correlation on the diagonal - exists. Thus, the generation under
these seeds are ideal.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by James Balamuta, Thijs van den Berg.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
